# LinguaContext 产品使用手册

**版本**: v2.2  
**更新日期**: 2026-01-17

## 1. 产品简介

**LinguaContext** 是一款沉浸式英语学习 Chrome 扩展。它不同于传统的查词工具，它专注于**基于语境**的学习体验。通过智能 AI 分析，它不仅能解释单词在当前句子中的确切含义，还能提取完整的上下文语境，帮助用户在真实的阅读环境中掌握词汇。

### 核心亮点
*   **语境感知**: AI 会读取选中单词所在的句子和段落，提供精准的释义，拒绝生搬硬套的词典定义。
*   **神经语音 TTS**: 集成 Volcengine (豆包) 高质量语音合成，提供自然流畅的美式/英式发音。
*   **生词本云同步**: 支持 Google Drive 同步，多设备无缝衔接学习进度。
*   **高度可定制**: 支持自定义 AI 角色（Prompt）、快捷键和交互方式。

---

## 2. 核心功能与操作

### 2.1 划词解释 (Contextual Explanation)
在任意网页浏览英文内容时：
1.  使用鼠标**选中**一个单词或短语。
2.  **触发方式**:
    *   **悬浮图标**: 选中后会自动出现两个悬浮按钮，点击 📖 (书本图标) 即可开始解释。
    *   **快捷键**: 按下快捷键 `e` (默认) 直接触发。
3.  **智能弹窗**:
    *   扩展会在选中文字附近弹出一个悬浮窗口。
    *   窗口内会实时流式显示 AI 生成的解析，包含：音标、词性、当前语境下的释义、例句辨析等。
    *   内容支持 Markdown 渲染，结构清晰（标题、列表、加粗）。

### 2.2 语音朗读 (TTS)
想知道单词或句子怎么读？
1.  **触发方式**:
    *   **悬浮图标**: 点击 🔊 (喇叭图标) 即可朗读选中内容。
    *   **快捷键**: 按下快捷键 `p` (默认) 直接朗读。
    *   **弹窗内朗读**: 在解释弹窗打开后，点击顶部的 🔊 按钮。
2.  **特性**:
    *   使用高性能 Offscreen 技术播放，兼容性强，突破部分网站的音频策略限制。
    *   支持长难句朗读，发音自然。

### 2.3 窗口交互
解释弹窗提供了丰富的交互功能：
*   **📌 固定窗口 (Pin)**: 点击右上角的图钉图标，窗口将变为固定模式。此时点击页面其他空白处窗口**不会关闭**，方便你对照阅读或做笔记。再次点击即可取消固定。
*   **拖拽移动**: 按住弹窗顶部标题栏区域，可以随意拖动窗口位置。
*   **☆ 收藏生词**: 点击星星图标，将当前单词及其**上下文语境**、**AI 解析**一键保存到生词本。收藏成功后星星变为实心 ★。
    *   *注*：为了保证数据完整性，AI 生成过程中收藏按钮会自动隐藏，生成完毕后即可点击。

---

## 3. 生词本与管理 (Dashboard)

点击浏览器工具栏的 LinguaContext 图标，即可打开 **Dashboard (管理面板)**。我们采用了全新的**沉浸式布局**，将全局导航与内容浏览分离。

### 3.1 界面布局
*   **App Header (顶部导航)**: 常驻顶部，包含 Logo、**☁️ 同步按钮** 和 **⚙️ 设置入口**。无论你在哪个页面，都可以随时进行同步或调整设置。
*   **内容区域**: 列表页与详情页独立切换，互不干扰。

### 3.2 我的生词本
*   **列表视图**: 按时间倒序展示所有收藏的生词，清晰直观。
*   **详情查看**: 点击任意生词进入详情页。
    *   **原文语境置顶**: 为了强化记忆，我们将**"原文语境 (Original Context)"** 放在详情页最醒目的顶部位置，用高亮边框强调。
    *   **AI 解析**: 完整保留收藏时的 Markdown 格式解析。
    *   **Hero Title**: 大号字体展示单词，配合一键朗读按钮。
*   **朗读**: 在详情页也可以点击播放按钮重听发音。
*   **删除**: 点击列表右侧的 `✕` 按钮可删除生词（会有二次确认）。

### 3.3 数据同步 (Cloud Sync)
LinguaContext 支持基于 **Google Drive** 的数据同步，确保数据安全且多端一致。
1.  在顶部导航点击 **☁️ 同步** 按钮（未登录时显示 "登录 Google Drive 同步"）。
2.  首次使用会弹出 Google 授权窗口，请允许访问 Drive 应用数据文件夹（`drive.appdata`）。
3.  **同步逻辑**:
    *   系统会自动合并本地和云端的生词数据（保留最新修改）。
    *   **配置同步**: 你的自定义提示词和快捷键设置也会同步。
    *   **冲突解决**: 如果检测到本地配置与云端不一致（例如两边都修改了提示词），系统会弹出**冲突解决对话框**，展示两者的差异，由你决定保留哪一份。

---

## 4. 个性化设置 (Settings)

在顶部导航点击 **⚙️ 图标**，可以定制你的专属助手。

### 4.1 快捷键与交互
*   **启用键盘快捷键**: 开关。开启后支持键盘操作。
    *   **解释 (Explain)**: 默认为 `e`。点击输入框按下键盘即可修改（支持组合键如 `Ctrl+E`）。
    *   **朗读 (TTS)**: 默认为 `p`。
*   **显示悬浮按钮**: 如果你觉得选中文字后弹出的图标干扰阅读，可以关闭此选项。关闭后，你可以完全依赖快捷键来使用插件。

### 4.2 AI 设定 (System Prompt)
*   **自定义提示词**: 你可以修改 AI 的 System Prompt，改变它的教学风格。
    *   *例如*: "你是一个严厉的语法老师，重点纠正我的语法错误" 或 "你是一个词源学家，请多讲讲单词的历史"。
    *   留空则使用官方默认的 "结构化学习卡片" 提示词。
*   **恢复默认**: 随时可以一键恢复到初始设置。

---

## 5. 常见问题 (FAQ)

*   **Q: 为什么没有声音？**
    *   A: 请检查网络连接。TTS 服务依赖云端 API。如果网站有极严格的安全策略（CSP），插件已通过 Offscreen 技术尽量规避，但仍可能受限。
*   **Q: Google 同步失败？**
    *   A: 请确保网络能正常访问 Google 服务。如果是首次使用，请确保在弹出的授权窗口中点击了"允许"。
*   **Q: 如何更新插件？**
    *   A: 这是一个开发者预览版，请通过源码加载或等待后续发布到 Chrome 商店。

---
**Enjoy your immersive learning journey!** 🚀
